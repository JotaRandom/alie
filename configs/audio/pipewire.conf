# ALIE - PipeWire Configuration
# User-level PipeWire daemon configuration
# Place in ~/.config/pipewire/pipewire.conf or /etc/pipewire/pipewire.conf

context.properties = {
    # Default clock settings
    default.clock.rate          = 48000
    default.clock.allowed-rates = [ 44100 48000 88200 96000 ]
    default.clock.quantum       = 1024
    default.clock.min-quantum   = 32
    default.clock.max-quantum   = 2048
}

context.modules = [
    # Load essential modules
    { name = libpipewire-module-rt
        args = {
            nice.level   = -11
            rt.prio      = 88
            rt.time.soft = -1
            rt.time.hard = -1
        }
        flags = [ ifexists nofail ]
    }
    { name = libpipewire-module-protocol-native }
    { name = libpipewire-module-client-node }
    { name = libpipewire-module-adapter }
    { name = libpipewire-module-metadata }
    
    # PulseAudio compatibility
    { name = libpipewire-module-protocol-pulse }
]

# Stream properties
stream.properties = {
    node.latency = 1024/48000
    resample.quality = 4
}
